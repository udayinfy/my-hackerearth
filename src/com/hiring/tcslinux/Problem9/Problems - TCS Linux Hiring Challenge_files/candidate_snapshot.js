/*
* Set variable to define the width and height of camera video feed box
*/function initWebcam(){Webcam.set({width:camera_width,height:camera_height,dest_width:240,dest_height:180,image_format:"jpeg",jpeg_quality:80,force_flash:!1}),Webcam.attach("#my-camera")}function takeSnapshotAfter(a,b){return(Math.random()*(a-b)+b)*1e3}function takeSnapshot(){var a=$("#upload-snapshot-url").text();try{Webcam.snap(function(b){snapshotCounter!=0&&b==previousSnap&&window.showWebcamPermissions(),previousSnap=b,snapshotCounter+=1,Webcam.upload(b,a,function(a,b){var c=takeSnapshotAfter(60,120);window.snapshotHandler.setInterval(takeSnapshot,c)})})}catch(b){window.snapshotHandler.clearInterval(),window.showWebcamPermissions()}}var snapshotCounter=0,previousSnap=null,camera_width=80,camera_height=60;bowser.msie&&(camera_width=320,camera_height=240),Webcam.on("live",function(){$("#my-camera").removeClass("hidden"),$(".load-javascript-div").removeClass("hidden");var a=$(".view-body");typeof a!="undefined"&&a.removeClass("hidden"),$("#problem-detail-wrapper").removeClass("hidden"),window.snapshotHandler.setInterval(takeSnapshot,1e4),disableTabSwitch(),$("#my-camera").trigger("webcam:live"),bowser.msie&&$("#my-camera").fadeOut("slow")}),Webcam.on("error",function(a){a=="Could not access webcam."&&(webcam_enabled=!1,$("#webcam-error").text(WEBCAM_NOT_ACCESSIBLE_MESSAGE),$("#webcam-error").show(),$("#my-camera").hide())});var snapshotHandler={_handler:null,setInterval:function(a,b){this.clearInterval(),this._handler=setInterval(a,b)},clearInterval:function(){this._handler!=null&&(clearInterval(this._handler),this._handler=null)}};window.snapshotHandler=snapshotHandler;